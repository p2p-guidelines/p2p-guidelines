
# Secure Scuttlebutt - что это?

Secure Scuttlebutt (далее - SSB) - это децентрализованный блог-сервис. Он рассчитан на функционирование в условиях, когда доступа в интернет большую часть времени нет. Сервис был создан новозеландским разработчиком Домиником Тарром в 2014 году. Доминик живёт на яхте, и часто уходит на ней в плаванье. Когда отплываешь далеко от берега, интернет становится не очень стабильным.

# Что означает слово Scuttlebutt?

Это слово распространено среди моряков и обозначает [сплетни около бочки с водой](https://en.wikipedia.org/wiki/Scuttlebutt). В современных реалиях это были бы сплетни около офисного куллера или сплетни на кухне.

# Что можно делать в SSB?

- писать записи в свой блог
- оставлять комментарии под чужими записями и чужими комментариями (аналогично тому как это сделано в LiveJournal)
- прикреплять картинки к записям
- писать личные сообщения
- подписываться на чужие блоги
- подписываться на теги (только в приложениях для PC)

# Как решается проблема отсутствия связи?

## Хранение полных копий чужих блогов

**Быть другом в SSB - это значит хранить у себя полную копию чьих-то данных.**

Все блоги, на которые вы подписываетесь хранятся на вашем устройстве целиком. Т.е. вы храните копии блогов ваших друзей, друзей ваших друзей и т.д. Глубина регулируется в настройках. Обычно это 2 или 3 шага от вас, но можно увеличить, если достаточно места на диске.

Как только приложению удаётся соединиться с сетью, оно начинает скачивать обновления блогов, на которые вы подписаны, с других узлов.

Даже когда у вас нет связи, вы можете читать чужие записи и комментарии, и писать свои. Написанные в оффлайне ответы встанут в очередь на фоновую отправку и уйдут в сеть как только появится связь.

## Синхронизация по локальной сети, Wi-Fi и Bluetooth

Когда вы и ваши друзья подключены к одной локальной сети, приложения SSB автоматически соединяются и синхронизируются между собой. В этом режиме доступ в интернет не нужен.

Если вы не добавлены друг другу в друзья, то автоматического соединения не произойдёт, и нужно будет открыть список доступных узлов и нажать на кнопку "Соединить".

Когда это может быть полезно?

В районе стихийного бедствия, где есть электричество, но нет доступа в глобальную сеть. Создав несколько открытых Wi-Fi точек и добавив друг друга в друзья можно обеспечить досуп к локальным новостям и личную переписку. Скорость обновлений будет зависеть от многих факторов, но вряд ли будет похожа на привычный он-лайн доступ.

Когда все подключены к локальной сети, но доступ в глобальную сеть есть у ограниченного количества людей, через которых происходит синхронизация всех подписок в обе стороны.

**Эти сценарии теоретически возможены, но не протестированы полноценно автором инструкции.**

На крупных мероприятиях, где все участники подключены к одной Wi-Fi сети. Вы видите всех в списке доступных для соединения узлов, можете добавлять друг друга в друзья, а потом писать личные сообщения и оставлять комментарии к записям. О работоспособности этого сценария писали участники команды разработки.

## Pub-сервера

В сети есть вспомогательные сервера, которых можно попросить добавить вас в друзья. Как только это произойдёт, они начнут поддерживать актуальную копию ваших данных, предоставляя другим пользователям доступ к вашему блогу, когда вас нет в сети.

Поскольку исходный код проекта открыт, каждый может установить ещё один Pub-сервер для поддержки локального сообщества или все сети в целом.

Pub-сервера - самая уязвимая часть сети, поскольку их не очень много (десятки, на момент написания инструкции).

# Как устроен SSB внутри?

Ваша учётная запись - это ваш закрытый криптографический ключ (длинное число). Вы используете его для цифровой подписи каждой своей записи, комментария и личного сообщения. Все ваши действия образуют последовательную цепочку ссылающихся друг на друга объектов. Это похоже на персональный блокчейн. Такая структура гарантирует, что никто не сможет удалить или отредактировать ваши записи, комментарии и личные сообщения. Ваш блог будет доставлен подписчикам в неизменно виде, и они всегда могут это проверить. Вредоносные узлы могут помешать синхронизации, но не смогут исказить данные.

Если вы сохраните свой закрытый ключ и удалите все свои данные записи, комментарии и прочее, то приложение через некоторое время скачает их обратно с компьютеров и телефонов ваших другей. Если друзей нет, то это не сработает. Если вы запишите свой закрытый ключ на бумагу и введёте его на новом компьютере, то там тоже появится полная копия ваших данных.

Если ваш закрытый ключ станет известен ещё кому-то, то он сможет писать от вашего имени. Не давайте никому ваш закрытый ключ, но сохраните его резервную копию.

# Что в этом хорошего?

Если никто не может удалить или изменить ваши записи, значит цензура невозможна. Вас могут заблокировать, но только каждый пользователь индивидуально для себя. Такое случается.

В вашей персональной ленте только записи ваших друзей и друзей ваших друзей (глубина регулируется). Таким образом, нежелательные комментарии или личные сообщения, которые могут быть отправлены вам, вы, скорее всего, не увидите. Это затрудняет организацию спам-рассылок.

# Какие неудобства вас ждут?

## SSB занимает много места

Локальные копии блогов ваших друзей занимают место на вашем жётском диске или на карте памяти мобильного телефона. Нужно рассчитывать на 3-5Gb в зависимости от количества друзей.

## SSB медленно работает

Первая синхронизация с сетью, когда вы выкаычиваете несколько новых подписок целиком, может занять несколько часов. Синхронизация после долгого перевыва тоже займёт время. Во время синхронизации приложение не очень быстро реагирует на нажатия кнопок.

## Вы не можете удалить или отредактировать свои записи в блоге и комментарии

Это следствие того, что ваши данные организованы в виде персональого блокчейна. Разработчики работают над этой проблемой, но, скорее всего, решение не будет таким же простым и очевидным, как в Facebook.

# Как подключиться к SSB?

Протоколы SSB реализованы в нескольких программах:

- для компьютеров: PatchWork (более дружественная к пользователю) и PatchBay (более экспериментальная)
- для мобильных телефонов: Manyverse

... продолжение следует














